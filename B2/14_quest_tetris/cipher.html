<article>
  <h2>--- Quest 8 Part 1 - Tetris Tower ---</h2>

  <div>
    <p>
      Le bataillon d’exploraatioon est revenu victorieux ! Après de nombreuses
      déceptions, ils ont trouvé l’emplacement idéal ! Entre deux grands arbres,
      dans une plaine non occupée par des ennemis, proches de plusieurs points
      de ressources : eau, fleurs et ruches de vraies abeilles pour le miel,
      usines et bâtiments humains abandonnés pour piller des composants.
    </p>

    <br />

    <p>
      Seul problème : la plaine est sans cesse balayée par des rafales de vent
      qui rendent toute construction risquée, voire impossible. Mais c’est la
      seule option, et à l’impossible vous êtes tenu. Les éclaireurs ont
      enregistré et analysé les fluctuations des bourrasques. Pour construire la
      Ruche, les transporteurs vont larguer les composants un à un entre les
      deux arbres, toujours dans le même ordre.
    </p>

    <p>
      Il y a cinq types de composants qui ont les formes suivantes, où # est le
      rocher et . est l'espace vide:
    </p>

    <code>
      ####<br />
      <br />
      .#.<br />
      ###<br />
      .#.<br />
      <br />
      ..#<br />
      ..#<br />
      ###<br />
      <br />
      #<br />
      #<br />
      #<br />
      #<br />
      <br />
      ##<br />
      ##
    </code>

    <p>
      Les composants tombent dans l'ordre indiqué ci-dessus: d'abord la forme -,
      puis la forme +, et ainsi de suite. Une fois la fin de la liste atteinte,
      le même ordre se répète: la forme - tombe en premier, sixième, onzième,
      etc.
    </p>

    <br />

    <p>
      Les composants ne pivotent pas, mais ils sont poussés par des bourrasques
      de vent. Une analyse rapide révèle les effets du vent aura sur les
      composants (votre input)
    </p>

    <p>Par exemple, supposons que ce soit le motif de bourrasques:</p>

    <code>>>><<><>><<<>><>>><<<>>><<<><<<>><>><<>></code>

    <br />

    <p>
      Dans l'analyse des bourrasques de vent, < signifie une poussée vers la
      gauche, tandis que > signifie une poussée vers la droite. Le motif
      ci-dessus signifie que les rafales pousseront un composant tombante vers
      la droite, puis vers la droite, puis vers la droite, puis vers la gauche,
      puis vers la gauche, puis vers la droite, et ainsi de suite. Si la fin de
      la liste est atteinte, elle se répète.
    </p>

    <br />

    <p>
      L'espace entre les deux arbres est de 7 unités de large. Chaque composant
      apparaît de sorte que son bord gauche est à deux unités de l'arbre gauche
      et son bord inférieur est à trois unités au-dessus du plus haut composant
      de la pièce (ou du sol, s'il n'y en a pas).
    </p>

    <br />

    <p>
      Après qu'un composant soit apparu, il alterne entre être poussé par une
      rafale d'une unité (dans la direction indiquée par le prochain symbole
      dans le motif de rafale) et tomber d'une unité. Si un mouvement quelconque
      devait faire en sorte qu'une partie du composant se déplace dans les
      arbres, le sol ou un composant déjà tombé, le mouvement ne se produit pas.
      Si un mouvement vers le bas aurait fait en sorte qu'un composant tombant
      se déplace dans le sol ou un composant déjà tombé, le composant tombant
      s'arrête là où il est (ayant atterri sur quelque chose) et un nouveau
      composant commence immédiatement à tomber.
    </p>

    <br />

    <p>
      On représente les composants tombant par @ et les composants arrêtés par
      #. Le motif de rafale dans l'exemple ci-dessus se manifeste comme suit:
    </p>

    <pre>
Le premier composant commence à tomber:
|..@@@@.|
|.......|
|.......|
|.......|
+-------+

La rafale de vent pousse le composant vers la droite:
|...@@@@|
|.......|
|.......|
|.......|
+-------+

Le composant tombe d'une unité:
|...@@@@|
|.......|
|.......|
+-------+

La rafale de vent pousse le composant vers la droite, mais rien ne se passe:
|...@@@@|
|.......|
|.......|
+-------+

Le composant tombe d'une unité:
|...@@@@|
|.......|
+-------+

La rafale de vent pousse le composant vers la droite, mais rien ne se passe:
|...@@@@|
|.......|
+-------+

Le composant tombe d'une unité:
|...@@@@|
+-------+

Le vent pousse le composant vers la gauche:
|..@@@@.|
+-------+

Le composant tombe d'une unité, ce qui le fait se stabiliser:
|..####.|
+-------+

Un nouveau composant commence à tomber:
|...@...|
|..@@@..|
|...@...|
|.......|
|.......|
|.......|
|..####.|
+-------+
    </pre>

    <p>
      Au moment où chacun des prochains composants commence à tomber, vous
      verriez ceci:
    </p>

    <pre>
        |..@....|
|..@....|
|..@....|
|..@....|
|.......|
|.......|
|.......|
|..#....|
|..#....|
|####...|
|..###..|
|...#...|
|..####.|
+-------+

|..@@...|
|..@@...|
|.......|
|.......|
|.......|
|....#..|
|..#.#..|
|..#.#..|
|#####..|
|..###..|
|...#...|
|..####.|
+-------+

|..@@@@.|
|.......|
|.......|
|.......|
|....##.|
|....##.|
|....#..|
|..#.#..|
|..#.#..|
|#####..|
|..###..|
|...#...|
|..####.|
+-------+

|...@...|
|..@@@..|
|...@...|
|.......|
|.......|
|.......|
|.####..|
|....##.|
|....##.|
|....#..|
|..#.#..|
|..#.#..|
|#####..|
|..###..|
|...#...|
|..####.|
+-------+

|....@..|
|....@..|
|..@@@..|
|.......|
|.......|
|.......|
|..#....|
|.###...|
|..#....|
|.####..|
|....##.|
|....##.|
|....#..|
|..#.#..|
|..#.#..|
|#####..|
|..###..|
|...#...|
|..####.|
+-------+

|..@....|
|..@....|
|..@....|
|..@....|
|.......|
|.......|
|.......|
|.....#.|
|.....#.|
|..####.|
|.###...|
|..#....|
|.####..|
|....##.|
|....##.|
|....#..|
|..#.#..|
|..#.#..|
|#####..|
|..###..|
|...#...|
|..####.|
+-------+

|..@@...|
|..@@...|
|.......|
|.......|
|.......|
|....#..|
|....#..|
|....##.|
|....##.|
|..####.|
|.###...|
|..#....|
|.####..|
|....##.|
|....##.|
|....#..|
|..#.#..|
|..#.#..|
|#####..|
|..###..|
|...#...|
|..####.|
+-------+

|..@@@@.|
|.......|
|.......|
|.......|
|....#..|
|....#..|
|....##.|
|##..##.|
|######.|
|.###...|
|..#....|
|.####..|
|....##.|
|....##.|
|....#..|
|..#.#..|
|..#.#..|
|#####..|
|..###..|
|...#...|
|..####.|
+-------+
    </pre>

    <p>
      Afin de vous assurer que votre simulation est précise, vous voulez savoir
      quelle sera la hauteur de la nouvelle Ruche après que 1000 composants se
      soient stabilisés (mais avant que le 1001ème ne commence à tomber). Dans
      cet exemple, la ruche de composants sera de 1520 unités de haut.
    </p>

    <br />

    <p>
      Quelle sera la hauteur de la Ruche après que 1000 composants se soient
      stabilisés ?
    </p>
  </div>
</article>
